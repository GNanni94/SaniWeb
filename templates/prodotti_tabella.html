{% extends 'base.html' %}
{% load static %}
{% block titolo %} {{nome_categoria}} {% endblock titolo %}


{% block contenuto %}
<div class="container">
    <div class="row" style="text-align: center">
        <div class="col-12">
            <div>
                <div class="table-responsive py-5" >
                    <h2>{{nome_categoria}}</h2>
                    <table id="listProdottiTable" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>CODICE PRODOTTO</th>
                                <th>NOME</th>
                                <th>UNITA DI MISURA</th>
                                <th>CATEGORIA</th>
                                <th>SottoCategoria</th>
                                <th>Aggiungi al carrello</th>

                            </tr>
                        </thead>
                        <tbody>
                            {% for x in prodotti %}
                            <tr>
                                <td>{{x.codice_prodotto}}</td>
                                <td>{{x.nome_prodotto}} <br> 
                                    {% if x.descrizione %}

                                        <i>{{x.descrizione}} </i> 
                                    {% endif %}
                                    {% if x.precursore %}
                                        <i class="bi bi-info-circle" data-toggle="tooltip" data-bs-placement="top" >{{x.precursore}}</i>
                                    {% endif %}
                                </td>
                                <td>{{x.unita_di_misura}}</td>
                                <td>{{x.categoria.nome_categoria}}</td>
                                <td>{{x.sottocategoria.nome_sottocategoria}}</td>
                                <td>
                                    <a class="btn btn-primary"
                                        href="{% url 'aggiungi_prodotti' x.pk%}">Aggiungi al carrello</a>

                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

$(document).ready(function () {
    $('#listProdottiTable').DataTable({
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.13.6/i18n/it-IT.json"
        }
    });
});

    // Inizializza i tooltip di Bootstrap
document.addEventListener('DOMContentLoaded', function () {
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl)
  })
});
  
  

</script>


{% endblock contenuto %}